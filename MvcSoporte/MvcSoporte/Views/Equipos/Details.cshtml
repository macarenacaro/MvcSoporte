@model MvcSoporte.Models.Equipo

@{
    ViewData["Title"] = "Details";
}

<h1>Detalles</h1>

<div>
    <h4>Equipo</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.CodigoEquipo)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.CodigoEquipo)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Marca)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Marca)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Modelo)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Modelo)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.NumeroSerie)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.NumeroSerie)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Caracteristicas)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Caracteristicas)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Precio)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Precio)
        </dd>
        @*<dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PrecioCadena)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PrecioCadena)
        </dd>*@
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FechaCompra)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FechaCompra)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FechaBaja)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FechaBaja)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Localizacion)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Localizacion.Descripcion)
        </dd>
    </dl>
</div>
<!--<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Editar</a> |
    <a asp-action="Index">Back to List</a>
</div>-->
@* Se añade código para presentar los avisos del equipo seleccionado *@
@{
    var contador = 0;
}
<div>
<h4>Avisos recibidos del equipo</h4>
<table class="table border-bottom">
<tr>
<th>Descripción</th>
<th>Fecha Aviso</th>
<th>Fecha Cierre</th>
<th>Empleado</th>
<th>Tipo de avería</th>
<th></th>
</tr>
        @foreach (var item in Model.Avisos)
        {
    <tr>
    <td>
                    @Html.DisplayFor(modelItem => item.Descripcion)
    </td>
    <td>
                    @Html.DisplayFor(modelItem => item.FechaAviso)
    </td>
    <td>
                    @Html.DisplayFor(modelItem => item.FechaCierre)
    </td>
    <td>
                    @Html.DisplayFor(modelItem => item.Empleado.Nombre)
    </td>
    <td>
                    @Html.DisplayFor(modelItem => item.TipoAveria.Descripcion)
    </td>
    <td>
    <div class="d-print-none">
    <a asp-action="Edit" asp-controller="Avisos"
asp-route-id="@item.Id">Editar</a> |
    <a asp-action="Delete" asp-controller="Avisos"
asp-route-id="@item.Id">Eliminar</a>
    </div>
    </td>
    </tr>
            contador = contador + 1;
        }
</table>
</div>
<p class="text-center">Número de avisos: @contador </p>
<div class="d-print-none text-center">
    <a class="btn btn-primary" href="javascript:window.print()">Imprimir</a>
</div>
<div class="d-print-none">
    @* <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a> *@
    <a asp-action="Index">Volver</a>
</div>